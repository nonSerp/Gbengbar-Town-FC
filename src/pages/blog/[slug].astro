---
// src/pages/blog/[slug].astro
import SEO from '../../components/SEO.astro';

export function getStaticPaths() {
  const posts = [
    { slug: 'post-1', title: 'First Post', content: '...', excerpt: 'Brief description' },
    { slug: 'post-2', title: 'Second Post', content: '...', excerpt: 'Another post' },
  ];

  return posts.map(post => {
    const relatedPosts = posts.filter(p => p.slug !== post.slug);
    
    return {
      params: { slug: post.slug },
      props: { post, relatedPosts }
    };
  });
}

const { post, relatedPosts } = Astro.props;
---

<html lang="en">
  <head>
    <SEO 
      title={post.title}
      description={post.excerpt}
      canonical={`https://gbengbartown.com/blog/${post.slug}`}
    />
  </head>
  <body>
    <article>
      <h1>{post.title}</h1>
      <div set:html={post.content} />
      
      <section class="related-posts">
        <h2>Related Articles</h2>
        <ul>
          {relatedPosts.map(p => (
            <li>
              <a href={`/blog/${p.slug}`}>{p.title}</a>
            </li>
          ))}
        </ul>
      </section>
    </article>
  </body>
</html>